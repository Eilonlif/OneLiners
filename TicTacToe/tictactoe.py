[n := int(input("Size: ")), [b := [[0 for _ in range(n)] for __ in range(n)], (l := lambda b, turn: l((lambda b, turn: exit() if (c:=(lambda b: any(abs(sum(l)) == len(b) for l in b) or abs(sum(b[i][i] for i in range(len(b)))) == len(b)))(b) or c([[b[j][i] for j in range(len(b))] for i in range(len(b) - 1, -1, -1)]) or (lambda b: all(v != 0 for l in b for v in l))(b) else (inp := lambda b, val: (x := (lambda a, b: list(map(list, map(lambda i: map(lambda x, y: x + y, a[i], b[i]), range(len(a))))))(b, (lambda y, x, s, val: [[0 if j != x else 0 if y != i else val for j in range(s)] for i in range(s)])(i, j, len(b), val)), (lambda b: [print(l) for l in b])(x)) if 0 <= (i := int(input(f"y {val}: "))) < len(b) and 0 <= (j := int(input(f"x {val}: "))) < len(b) and b[i][j] == 0 else inp(b, val)[0])(b, turn)[0])(b, turn), -turn))(b, 1)]]
